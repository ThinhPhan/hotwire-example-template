<section class="w-full max-w-lg">
  <h1>New building</h1>

  <%= form_with model: @building do |form| %>
    <%= render partial: "errors", object: @building.errors %>

    <%= field_set_tag "Describe the building" do %>
      <%= form.collection_radio_buttons :building_type, Building.building_types.keys, :to_s, :humanize do |builder| %>
        <span>
          <%= builder.radio_button autocomplete: "off" %>
          <%= builder.label %>
        </span>
      <% end %>
      <button formmethod="get" formaction="<%= new_building_path %>">Select type</button>
    <% end %>

    <%= field_set_tag "Leased", disabled: !@building.leased?, class: "disabled:hidden" do %>
      <%= form.label :management_phone_number %>
      <%= form.telephone_field :management_phone_number %>
    <% end %>

    <%= field_set_tag "Other", disabled: !@building.other?, class: "disabled:hidden" do %>
      <%= form.label :building_type_description %>
      <%= form.text_field :building_type_description %>
    <% end %>

    <%= field_set_tag "Address", class: "flex flex-col gap-2" do %>
      <%= form.label :country %>
      <%= form.select :country, @building.countries.invert %>
      <button formmethod="get" formaction="<%= new_building_path %>">Select country</button>

      <%= form.label :line_1 %>
      <%= form.text_field :line_1 %>

      <%= form.label :line_2 %>
      <%= form.text_field :line_2 %>

      <%= form.label :city %>
      <%= form.text_field :city %>

      <% if @building.states.any? %>
        <%= form.label :state %>
        <%= form.select :state, @building.states.invert %>
      <% end %>

      <%= form.label :postal_code %>
      <%= form.text_field :postal_code %>
    <% end %>

    <%= form.button %>
  <% end %>
</section>
